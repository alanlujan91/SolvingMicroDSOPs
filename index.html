<!DOCTYPE html> 
<html lang="en" xml:lang="en" > 
<head>
  <title>Solution Methods for Microeconomic
Dynamic Stochastic Optimization Problems</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="SolvingMicroDSOPs.css" /> 
<meta name="src" content="SolvingMicroDSOPs.tex"> 
</head><body 
>
<!--l. 74--><p class="noindent" >                                                                   <span 
class="ecrm-0600">SolvingMicroDSOPs, April 2,</span>
<span 
class="ecrm-0600">2024</span>
  <div class="maketitle">
<h2 class="titleHead">Solution Methods for Microeconomic<br />
Dynamic Stochastic Optimization Problems</h2>
<div class="date" >2024-03-27</div>
<span 
class="ecrm-0600"> </span>
 <div class="author" ><span 
class="ecrm-1440">Christopher D. Carroll</span><sup class="textsuperscript"><span 
class="ecrm-0600">1</span></sup></div>
<br />
</div>
<!--l. 91--><p class="noindent" ><span 
class="ecrm-1000">Note: The GitHub repo   </span><a 
href="https://github.com/econ-ark/SolvingMicroDSOPs" ><span 
class="ectt-1000">SolvingMicroDSOPs repo</span></a> <span 
class="ecrm-1000">associated with this document contains python code that</span>
<span 
class="ecrm-1000">produces all results, from scratch, except for the last section on indirect inference. The numerical results have</span>
<span 
class="ecrm-1000">been conﬁrmed by showing that the answers that the raw python produces correspond to the answers</span>
<span 
class="ecrm-1000">produced by tools available in the  </span><a 
href="https://econ-ark.org" ><span 
class="ecrm-1000">Econ-ARK</span></a> <span 
class="ecrm-1000">toolkit, more speciﬁcally those in the   </span><a 
href="https://github.com/econ-ark/HARK" ><span 
class="ectt-1000">HARK</span></a> <span 
class="ecrm-1000">which</span>
<span 
class="ecrm-1000">has full  </span><a 
href="https://docs.econ-ark.org" ><span 
class="ecrm-1000">documentation</span></a><span 
class="ecrm-1000">. The MSM results at the end have have been superseded by tools in the</span>
<a 
href="https://github.com/econ-ark/EstimatingMicroDSOPs" ><span 
class="ectt-1000">EstimatingMicroDSOPs repo</span></a><span 
class="ecrm-1000">.</span>
<!--l. 95--><p class="indent" >  <a 
 id="Abstract"></a> <section role="doc-abstract" class="abstract"> 

<!--l. 96--><p class="noindent" > <br 
class="newline" />_____________________________________________________________________________________
<!--l. 96--><p class="noindent" ><span 
class="ecbx-1200">Abstract</span><br 
class="newline" />   <span 
class="ecrm-1095">These notes describe tools for solving microeconomic dynamic stochastic optimization problems,</span>
<span 
class="ecrm-1095">and show how to use those tools for eﬃciently estimating a standard life cycle consumption/saving</span>
<span 
class="ecrm-1095">model using microeconomic data. No attempt is made at a systematic overview of the many possible</span>
<span 
class="ecrm-1095">technical choices; instead, I present a speciﬁc set of methods that have proven useful in my own work</span>
<span 
class="ecrm-1095">(and explain why other popular methods, such as value function iteration, are a bad idea). Paired</span>
<span 
class="ecrm-1095">with these notes is </span><span 
class="ecti-1095">Mathematica</span><span 
class="ecrm-1095">, Matlab, and Python software that solves the problems described in</span>
<span 
class="ecrm-1095">the text.   </span><br 
class="newline" />
        <blockquote class="quote">
                     <dl class="list2"><dt class="list">
<span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> Keywords</span><span 
class="ecbx-1200"> </span></dt><dd 
class="list">
                 <!--l. 98--><p class="noindent" >Dynamic  Stochastic  Optimization,  Method  of  Simulated
                   Moments, Structural Estimation, Indirect Inference
                   </dd><dt class="list">
<span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> JEL codes</span><span 
class="ecbx-1200"> </span></dt><dd 
class="list">
                 <!--l. 98--><p class="noindent" >E21, F41</dd></dl>
                                                                                     
                                                                                     
      </blockquote>
</section>
<div class="center" 
>
<!--l. 101--><p class="noindent" >
<table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> PDF:</span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><a 
href="https://github.com/llorracc/SolvingMicroDSOPs/blob/master/SolvingMicroDSOPs.pdf" class="url" ><span 
class="ectt-1000">https://github.com/llorracc/SolvingMicroDSOPs/blob/master/SolvingMicroDSOPs.pdf</span></a>
</td></tr></table>
<!--l. 103--><p class="noindent" ><table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000"> Slides:</span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><a 
href="https://github.com/\owner /SolvingMicroDSOPs/blob/master/SolvingMicroDSOPs-Slides.pdf" class="url" ><span 
class="ectt-1000">https://github.com/\owner/SolvingMicroDSOPs/blob/master/SolvingMicroDSOPs-Slides.pdf</span></a></td></tr></table>
<!--l. 104--><p class="noindent" >                                  <table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> Web:</span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><a 
href="https://\owner .github.io/SolvingMicroDSOPs" class="url" ><span 
class="ectt-1000">https://\owner.github.io/SolvingMicroDSOPs</span></a></td></tr></table>
<!--l. 105--><p class="noindent" >                <table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> Code:</span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><a 
href="https://github.com/\owner /SolvingMicroDSOPs/tree/master/Code" class="url" ><span 
class="ectt-1000">https://github.com/\owner/SolvingMicroDSOPs/tree/master/Code</span></a></td></tr></table>
<!--l. 106--><p class="noindent" >                                 <table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000">Archive:</span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><a 
href="https://github.com/\owner /SolvingMicroDSOPs" class="url" ><span 
class="ectt-1000">https://github.com/\owner/SolvingMicroDSOPs</span></a></td></tr></table>
<!--l. 107--><p class="noindent" >     <table  
cellpadding="0" border="0"  
class="tabbing"><tr  
style="vertical-align:baseline;" class="tabbing"><td style="width:75;" 
class="tabbing"><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000"> </span><span 
class="ectt-1000">  </span></td><td  
class="tabbing"></td><td  
class="tabbing"><span 
class="ecti-1000">(Contains LaTeX code for this document and software producing ﬁgures and results)</span></td></tr></table>
<!--l. 109--><p class="noindent" >
</div>
<!--l. 116--><p class="indent" >  <span class="footnote-mark"><sup class="textsuperscript"></sup></span>
<!--l. 118--><p class="indent" >  <span class="footnote-mark"><sup class="textsuperscript"></sup></span>
      <sup class="textsuperscript"></sup>
<!--l. 115--><p class="indent" >  <sup class="textsuperscript"><span 
class="ecrm-0600">1</span></sup><span 
class="ecrm-1000">Carroll: Department of Economics, Johns Hopkins University, Baltimore, MD,   </span><a 
href="mailto:ccarroll@jhu.edu" ><span 
class="ectt-1000">ccarroll@jhu.edu</span></a><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span>
      <sup class="textsuperscript"></sup><span 
class="ecrm-1000">The notes were originally written for my Advanced Topics in Macroeconomic Theory class at</span>
<span 
class="ecrm-1000">Johns Hopkins University; instructors elsewhere are welcome to use them for teaching purposes. Relative</span>
<span 
class="ecrm-1000">to earlier drafts, this version incorporates several improvements related to new results in the paper</span>
<a 
href="http://econ-ark.github.io/BufferStockTheory" ><span 
class="ecrm-1000">“Theoretical Foundations of Buﬀer Stock Saving”</span></a> <span 
class="ecrm-1000">(especially tools for approximating the consumption</span>
<span 
class="ecrm-1000">and value functions). Like the last major draft, it also builds on material in “The Method of Endogenous</span>
<span 
class="ecrm-1000">Gridpoints  for  Solving  Dynamic  Stochastic  Optimization  Problems”   published  in  </span><span 
class="ecti-1000">Economics</span>
<span 
class="ecti-1000">Letters</span><span 
class="ecrm-1000">,  available  at  </span><a 
href="http://www.econ2.jhu.edu/people/ccarroll/EndogenousArchive.zip" class="url" ><span 
class="ectt-1000">http://www.econ2.jhu.edu/people/ccarroll/EndogenousArchive.zip</span></a><span 
class="ecrm-1000">,  and</span>
<span 
class="ecrm-1000">by  including  sample  code  for  a  method  of  simulated  moments  estimation  of  the  life  cycle</span>
<span 
class="ecrm-1000">model  </span><span 
class="ecti-1000">a  la  </span><a 
href="#XgpLifecycle"><span 
class="ecrm-1000">Gourinchas  and  Parker</span></a><span 
class="ecrm-1000"> (</span><a 
href="#XgpLifecycle"><span 
class="ecrm-1000">2002</span></a><span 
class="ecrm-1000">)  and  Cagetti</span><span 
class="ecrm-1000"> (</span><a 
href="#XcagettiWprofiles"><span 
class="ecrm-1000">2003</span></a><span 
class="ecrm-1000">).  Background  derivations,  notation,</span>
<span 
class="ecrm-1000">and   related   subjects   are   treated   in   my   class   notes   for   ﬁrst   year   macro,   available   at</span>
<a 
href="http://www.econ2.jhu.edu/people/ccarroll/public/lecturenotes/consumption" class="url" ><span 
class="ectt-1000">http://www.econ2.jhu.edu/people/ccarroll/public/lecturenotes/consumption</span></a><span 
class="ecrm-1000">.  I  am  grateful</span>
<span 
class="ecrm-1000">to several generations of graduate students in helping me to reﬁne these notes, to Marc Chan for help</span>
<span 
class="ecrm-1000">in updating the text and software to be consistent with </span><a 
href="#XcarrollEGM"><span 
class="ecrm-1000">Carroll</span></a><span 
class="ecrm-1000"> (</span><a 
href="#XcarrollEGM"><span 
class="ecrm-1000">2006</span></a><span 
class="ecrm-1000">), to Kiichi Tokuoka for drafting</span>
<span 
class="ecrm-1000">the section on structural estimation, to Damiano Sandri for exceptionally insightful help in revising and</span>
<span 
class="ecrm-1000">updating the method of simulated moments estimation section, and to Weifeng Wu and Metin Uyanik</span>
<span 
class="ecrm-1000">for revising to be consistent with the ‘method of moderation’ and other improvements. All errors are</span>
<span 
class="ecrm-1000">my own. This document can be cited as </span><a 
href="#XSolvingMicroDSOPs"><span 
class="ecrm-1000">Carroll</span></a><span 
class="ecrm-1000"> (</span><a 
href="#XSolvingMicroDSOPs"><span 
class="ecrm-1000">2023a</span></a><span 
class="ecrm-1000">) in the references.</span>
                                                                                     
                                                                                     
<!--l. 127--><p class="indent" >  <a 
 id="Introduction"></a>
  <h3 class="sectionHead"><span class="titlemark">1  </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 152--><p class="noindent" >These lecture notes provide a gentle introduction to a particular set of solution tools for the
canonical consumption-saving/portfolio allocation problem. Speciﬁcally, the notes describe and
solve optimization problems for a consumer facing uninsurable idiosyncratic risk to nonﬁnancial
income (e.g., labor or transfer income), ﬁrst without and then with optimal portfolio
choice,<span class="footnote-mark"><a 
href="SolvingMicroDSOPs2.html#fn1x0"><sup class="textsuperscript">1</sup></a></span><a 
 id="x1-1001f1"></a>  
with detailed intuitive discussion of the various mathematical and computational techniques
that, together, speed the solution by many orders of magnitude compared to “brute force”
methods. The problem is solved with and without liquidity constraints, and the inﬁnite
horizon solution is obtained as the limit of the ﬁnite horizon solution. After the basic
consumption/saving problem with a deterministic interest rate is described and
solved, an extension with portfolio choice between a riskless and a risky asset is also
solved. Finally, a simple example shows how to use these methods (via the statistical
‘method of simulated moments’ (‘MSM’) to estimate structural parameters like
the coeﬃcient of relative risk aversion (<span 
class="ecti-1200">a la </span>Gourinchas and Parker (<a 
href="#XgpLifecycle">2002</a>) and
Cagetti (<a 
href="#XcagettiWprofiles">2003</a>)).
<!--l. 178--><p class="indent" >  <a 
 id="the-problem"></a>
  <h3 class="sectionHead"><span class="titlemark">2  </span> <a 
 id="x1-20002"></a>The Problem</h3>                                                                      <span 
class="ecrm-0600">{sec:the-problem}</span>
<!--l. 1--><p class="noindent" >The usual analysis of dynamic stochastic programming problems packs a great many events
(intertemporal choice, stochastic shocks, intertemporal returns, income growth, the
taking of expectations, and more) into a single step in which the agent makes an
optimal choice taking account of all of these elements. For the detailed analysis
here, we will be careful to disarticulate everything that happens in the problem
explicitly into separate steps so that each element can be scrutinized and understood in
isolation.
<!--l. 3--><p class="indent" >  We are interested in the behavior a consumer who begins period <img 
src="SolvingMicroDSOPs0x.svg" alt="t  " class="math";align="absmiddle"> with a certain amount
of ‘capital’ <img 
src="SolvingMicroDSOPs1x.svg" alt="kt  " class="math";align="absmiddle">, which is immediately rewarded by a return factor <img 
src="SolvingMicroDSOPs2x.svg" alt="Rt  " class="math";align="absmiddle"> with the proceeds
deposited in a <span 
class="ecbx-1200">b</span>ank account <span 
class="ecbx-1200">b</span>alance:
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs3x.svg" alt="bt = ktRt.
" class="math-display" ><a 
 id="x1-2001r1"></a></div>
  </td><td class="equation-label">(1)</td></tr></table>
<!--l. 6--><p class="nopar" >
<!--l. 9--><p class="indent" >  Simultaneously with the realization of the capital return, the consumer also receives
noncapital income <img 
src="SolvingMicroDSOPs4x.svg" alt="yt  " class="math";align="absmiddle">, which is determined by multiplying the consumer’s ‘permanent
income’ <img 
src="SolvingMicroDSOPs5x.svg" alt="pt  " class="math";align="absmiddle"> by a transitory shock <img 
src="SolvingMicroDSOPs6x.svg" alt="𝜃t  " class="math";align="absmiddle">:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs7x.svg" alt="yt = pt𝜃t
" class="math-display" ><a 
 id="x1-2002r2"></a></div>
  </td><td class="equation-label">(2)</td></tr></table>
<!--l. 12--><p class="nopar" >whose whose expectation is 1 (that is, before realization of the transitory shock, the
consumer’s expectation is that actual income will on average be equal to permanent income
<img 
src="SolvingMicroDSOPs8x.svg" alt="pt  " class="math";align="absmiddle">).
<!--l. 15--><p class="indent" >  The combination of bank balances <img 
src="SolvingMicroDSOPs9x.svg" alt="b  " class="math";align="absmiddle"> and income <img 
src="SolvingMicroDSOPs10x.svg" alt="y  " class="math";align="absmiddle"> deﬁne’s the consumer’s ‘market
resources’ (sometimes called ‘cash-on-hand,’ following <a 
href="#XdeatonUnderstandingC">Deaton</a> (<a 
href="#XdeatonUnderstandingC">1992</a>)):
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs11x.svg" alt="mt =  bt + yt,
" class="math-display" ><a 
 id="x1-2003r3"></a></div>
  </td><td class="equation-label">(3)</td></tr></table>
<!--l. 18--><p class="nopar" >available to be spent on consumption <img 
src="SolvingMicroDSOPs12x.svg" alt="ct  " class="math";align="absmiddle"> for a consumer subject to a liquidity constraint that
requires <img 
src="SolvingMicroDSOPs13x.svg" alt="c ≤ m  " class="math";align="absmiddle">.
                                                                                     
                                                                                     
<!--l. 21--><p class="indent" >  The consumer’s goal is to maximize discounted utility from consumption over the rest of a
lifetime ending at date <img 
src="SolvingMicroDSOPs14x.svg" alt="T  " class="math";align="absmiddle">:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs15x.svg" alt="        [T −t          ]
max  𝔼   ∑   βnu (c   ) .
       t           t+n
          n=0
" class="math-display" ><a 
 id="x1-2004r4"></a></div>
  </td><td class="equation-label">(4)</td></tr></table>
<!--l. 3--><p class="nopar" >
<!--l. 213--><p class="indent" >  Income evolves according to:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs16x.svg" alt="            pt+1 = 𝒢t+1pt   -permanent   labor income  dynamics
log  𝜃   ∼  𝒩  (− σ2 ∕2,σ2)  -lognormal  transitory shocks ∀ n &#x003E;  0.
     t+n           𝜃    𝜃
" class="math-display" ><a 
 id="x1-2005r5"></a></div>
  </td><td class="equation-label">(5)</td></tr></table>
<!--l. 5--><p class="nopar" >
<!--l. 224--><p class="indent" >  Equation (<a 
href="#x1-2005r5">5<!--tex4ht:ref: eq:permincgrow --></a>) indicates that we are allowing for a predictable average proﬁle of income
growth over the lifetime <img 
src="SolvingMicroDSOPs17x.svg" alt="    T
{𝒢 }0   " class="math";align="absmiddle"> (to capture typical career wage paths, pension arrangements,
etc).<span class="footnote-mark"><a 
href="SolvingMicroDSOPs3.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-2006f2"></a>  
Finally, the utility function is of the Constant Relative Risk Aversion (CRRA), form,
                                                                                     
                                                                                     
<img 
src="SolvingMicroDSOPs18x.svg" alt="         1− ρ
u(∙ ) = ∙   ∕(1 − ρ )  " class="math";align="absmiddle">.
<!--l. 227--><p class="indent" >  It is well known that this problem can be rewritten in recursive (Bellman) form
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs19x.svg" alt="vt(mt, pt) = macxt  u(ct) + β 𝔼t[vt+1 (mt+1, pt+1)]
" class="math-display" ><a 
 id="x1-2008r6"></a></div>
  </td><td class="equation-label">(6)</td></tr></table>
<!--l. 5--><p class="nopar" >subject to the Dynamic Budget Constraint (DBC) implicitly deﬁned by equations (<a 
href="#x1-2001r1">1<!--tex4ht:ref: eq:bLvl --></a>)-(<a 
href="#x1-2003r3">3<!--tex4ht:ref: eq:mLvl --></a>) and
to the transition equation that deﬁnes next period’s initial capital as this period’s
end-of-period assets:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs20x.svg" alt="kt+1 = at.
" class="math-display" ><a 
 id="x1-2009r7"></a></div>
  </td><td class="equation-label">(7)</td></tr></table>
<!--l. 240--><p class="nopar" >
<!--l. 242--><p class="indent" >  <a 
 id="Normalization"></a>
  <h3 class="sectionHead"><span class="titlemark">3  </span> <a 
 id="x1-30003"></a>Normalization</h3>                                                                     <span 
class="ecrm-0600">{sec:normalization}</span>
<!--l. 244--><p class="noindent" >The single most powerful method for speeding the solution of such models is to redeﬁne the
problem in a way that reduces the number of state variables (if at all possible). Here, the
obvious idea is to see whether the problem can be rewritten in terms of the ratio of various
variables to permanent noncapital (‘labor’) income <img 
src="SolvingMicroDSOPs21x.svg" alt="pt  " class="math";align="absmiddle"> (henceforth for brevity, ‘permanent
income.’)
<!--l. 248--><p class="indent" >  In the last period of life, there is no future, <img 
src="SolvingMicroDSOPs22x.svg" alt="v     = 0
  T+1  " class="math";align="absmiddle">, so the optimal plan is to consume
everything:
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs23x.svg" alt="               m1 −ρ
vT (mT ,pT ) = --T--.
               1 − ρ
" class="math-display" ><a 
 id="x1-3001r8"></a></div>
  </td><td class="equation-label">(8)</td></tr></table>
<!--l. 255--><p class="nopar" >Now deﬁne nonbold variables as the bold variable divided by the level of permanent
income in the same period, so that, for example, <img 
src="SolvingMicroDSOPs24x.svg" alt="mT  =  mT ∕pT  " class="math";align="absmiddle">; and deﬁne
<img 
src="SolvingMicroDSOPs25x.svg" alt="vT (mT ) = u(mT )  " class="math";align="absmiddle">.<span class="footnote-mark"><a 
href="SolvingMicroDSOPs4.html#fn3x0"><sup class="textsuperscript">3</sup></a></span><a 
 id="x1-3002f3"></a>  
For our CRRA utility function, <img 
src="SolvingMicroDSOPs28x.svg" alt="u(xy) = x1−ρu (y )  " class="math";align="absmiddle">, so (<a 
href="#x1-3001r8">8<!--tex4ht:ref: eq:levelTm1 --></a>) can be rewritten as
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs29x.svg" alt="                      1− ρ
                1−ρ m-T---
vT (mT ,pT ) = pT   1 − ρ
                             1−ρ
             = (pT− 1𝒢T)1−ρm-T---
                           1 − ρ
             = p1−ρ 𝒢1−ρv  (m  ).
                T −1 T   T   T
" class="math-display" ><a 
 id="x1-3004r9"></a></div>
  </td><td class="equation-label">(9)</td></tr></table>
<!--l. 265--><p class="nopar" >
<!--l. 267--><p class="indent" >  Now deﬁne a new optimization problem:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs30x.svg" alt="vt(mt ) = max  u (ct) + β 𝔼t[𝒢1 −ρvt+1(mt+1)]
           ct                t+1
      s.t.

     at = mt − ct
  kt+1 = at

  mt+1 = (◟R-∕𝒢◝t◜+1)◞kt+1 + 𝜃t+1,
           ≡ℛt+1
" class="math-display" ><a 
 id="x1-3005r10"></a></div>
  </td><td class="equation-label">(10)</td></tr></table>
<!--l. 8--><p class="nopar" >where the last equation is the normalized version of the transition equation for
<img 
src="SolvingMicroDSOPs31x.svg" alt="mt+1   " class="math";align="absmiddle">.<span class="footnote-mark"><a 
href="SolvingMicroDSOPs5.html#fn4x0"><sup class="textsuperscript">4</sup></a></span><a 
 id="x1-3006f4"></a>  
Then it is easy to see that for <img 
src="SolvingMicroDSOPs33x.svg" alt="t = T − 1  " class="math";align="absmiddle">,
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs34x.svg" alt="vT −1(mT −1,pT −1) = p1T−−ρ1vT−1(mT −1)
" class="math-display" ></div>
  </td></tr></table>
                                                                                     
                                                                                     
<!--l. 288--><p class="nopar" >and so on back to all earlier periods. Hence, if we solve the problem (<a 
href="#x1-3005r10">10<!--tex4ht:ref: eq:vNormed --></a>) which (when
optimal consumption is being chosen) has only a single state variable <img 
src="SolvingMicroDSOPs35x.svg" alt="mt  " class="math";align="absmiddle">, we can
obtain the levels of the value function, consumption, and all other variables from the
corresponding permanent-income-normalized solution objects by multiplying each by <img 
src="SolvingMicroDSOPs36x.svg" alt="p
 t  " class="math";align="absmiddle">,
e.g. <img 
src="SolvingMicroDSOPs37x.svg" alt="ccct(mt, pt) = ptct(mt ∕pt)  " class="math";align="absmiddle"> (or, for the value function, <img 
src="SolvingMicroDSOPs38x.svg" alt="              1− ρ
vt(mt, pt) = p t  vt(mt ))  " class="math";align="absmiddle">. We have
thus reduced the problem from two continuous state variables to one (and thereby enormously
simpliﬁed its solution).
<!--l. 296--><p class="indent" >  For some problems it will not be obvious that there is an appropriate ‘normalizing’ variable,
but many problems can be normalized if suﬃcient thought is given. For example,
<a 
href="#Xvalencia:2006">Valencia</a> (<a 
href="#Xvalencia:2006">2006</a>) shows how a bank’s optimization problem can be normalized by the level of
the bank’s productivity.
<!--l. 302--><p class="indent" >  <a 
 id="The-Usual-Theory"></a>
  <h3 class="sectionHead"><span class="titlemark">4  </span> <a 
 id="x1-40004"></a>The Usual Theory, and A Bit More Notation</h3>                                      <span 
class="ecrm-0600">{sec:usualtheory}</span>
<!--l. 306--><p class="noindent" >
  <h4 class="subsectionHead"><span class="titlemark">4.1  </span> <a 
 id="x1-50004.1"></a>Steps</h4>
<!--l. 309--><p class="noindent" >The preceding analysis made some implicit assumptions about what was known when;
diﬃculty intuiting or inferring those implicit assumptions is a common stumbling block for
students trying to this material.
<!--l. 311--><p class="indent" >  Generically, we want to think of the Bellman problem itself as having three steps:
      <ol  class="enumerate1" >
<li 
  class="enumerate" id="x1-5002x1">
      <!--l. 313--><p class="noindent" ><span 
class="ecbx-1200">Arrival</span>: Incoming state variables (e.g., <img 
src="SolvingMicroDSOPs39x.svg" alt="k
 t  " class="math";align="absmiddle">) are known, but any shocks associated
      with the period have not been realized and decision(s) have not yet been made
      </li>
<li 
  class="enumerate" id="x1-5004x2">
      <!--l. 314--><p class="noindent" ><span 
class="ecbx-1200">Decision</span>:  All  exogenous  variables  (like  income  shocks,  rate  of  return  shocks,
      predictable income growth <img 
src="SolvingMicroDSOPs40x.svg" alt="𝒢 " class="math";align="absmiddle"> have been realized (so that, e.g., <img 
src="SolvingMicroDSOPs41x.svg" alt="mt  " class="math";align="absmiddle">’s value is
      known) and the agent solves the optimization problem
      </li>
<li 
  class="enumerate" id="x1-5006x3">
                                                                                     
                                                                                     
      <!--l. 315--><p class="noindent" ><span 
class="ecbx-1200">Continuation</span>: After all decisions have been made, it is possible to calculate the
      consequences of the decision, taking as given the ‘outgoing’ state variables (e.g.,
      <img 
src="SolvingMicroDSOPs42x.svg" alt="a  " class="math";align="absmiddle">) – sometimes called ‘post-state’ variables.</li></ol>
<!--l. 318--><p class="indent" >  The (implicit) default assumption is often to think of the step of the problem
where the agent is solving a decision problem as deﬁning the unique moment at
which the problem is deﬁned. This is what implicitly was done above, when (for
example) in (<a 
href="#x1-3005r10">10<!--tex4ht:ref: eq:vNormed --></a>) we related current value <img 
src="SolvingMicroDSOPs43x.svg" alt="vt  " class="math";align="absmiddle"> to the expectation of future value
<img 
src="SolvingMicroDSOPs44x.svg" alt="vt+1   " class="math";align="absmiddle">.
<!--l. 320--><p class="indent" >  When we want to refer to a speciﬁc step within period <img 
src="SolvingMicroDSOPs45x.svg" alt="t  " class="math";align="absmiddle"> we will do so by preceding it by
an indicator character:
<div class="center" 
>
<!--l. 321--><p class="noindent" >
<div class="pic-tabular">
<img 
src="SolvingMicroDSOPs46x.svg" alt="               |              |          |
---------Step--|--Indicator---|Example---|Explanation-----------------------------
       Arrival |     ←        |v ←t(kt)   |value of entering t (before shocks )
      Decision  |(blank/none ) |vt(mt )   |value of t- decision (after shocks)
 Continuation  |     →        |vt→ (at)   |value of outgoing state (after decision)
" ></div></div>
<!--l. 330--><p class="indent" >  This notation allows us to capture the fact that the value of the consumer’s circumstances
can be computed at any of the three steps (and is a function of a diﬀerent state variable at
each step).
<!--l. 332--><p class="indent" >  Note that there is no need to use these subscripts for the model’s variables; while a variable
like <img 
src="SolvingMicroDSOPs47x.svg" alt="at = mt −  ct  " class="math";align="absmiddle"> takes on its value in the transition from the Decision to the Continuation
step, <img 
src="SolvingMicroDSOPs48x.svg" alt="a  " class="math";align="absmiddle"> will have only one unique value over the course of the period and therefore a notation
like <img 
src="SolvingMicroDSOPs49x.svg" alt="a ←t  " class="math";align="absmiddle"> would be useless because the variable does not have a value until the continuation
step is reached. Each variable in our problem has a unique value deﬁned at some point during
the period, so there is no ambiguity in referring to them with normal notation like
<img 
src="SolvingMicroDSOPs50x.svg" alt="at  " class="math";align="absmiddle">.
<!--l. 334--><p class="noindent" >
  <h4 class="subsectionHead"><span class="titlemark">4.2  </span> <a 
 id="x1-60004.2"></a>The Usual Theory</h4>
<!--l. 336--><p class="noindent" >Using this new notation, the ﬁrst order condition for (<a 
href="#x1-3005r10">10<!--tex4ht:ref: eq:vNormed --></a>) with respect to <img 
src="SolvingMicroDSOPs51x.svg" alt="ct  " class="math";align="absmiddle"> is
  <table 
class="equation"><tr><td>
  <div class="math-display" >
                                                                                     
                                                                                     
<img 
src="SolvingMicroDSOPs52x.svg" alt="  c                  1− ρ m
u (ct) = 𝔼t→[βℛt+1 𝒢 t+1 vt+1 (mt+1 )]
      =  𝔼t→[βR    𝒢 t+−1ρvmt+1(mt+1)]
" class="math-display" ><a 
 id="x1-6001r11"></a></div>
  </td><td class="equation-label">(11)</td></tr></table>
<!--l. 340--><p class="nopar" >and because the  <a 
href="https://www.econ2.jhu.edu/people/ccarroll/public/lecturenotes/consumption/Envelope" ><span 
class="ectt-1200">Envelope</span></a> theorem tells us that
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs53x.svg" alt="  m                −ρ  m
v t (mt ) = 𝔼←t[βR 𝒢t+1vt+1(mt+1)]
" class="math-display" ><a 
 id="x1-6002r12"></a></div>
  </td><td class="equation-label">(12)</td></tr></table>
<!--l. 344--><p class="nopar" >we can substitute the LHS of (<a 
href="#x1-6002r12">12<!--tex4ht:ref: eq:envelope --></a>) for the RHS of (<a 
href="#x1-6001r11">11<!--tex4ht:ref: eq:upceqEvtp1 --></a>) to get
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs54x.svg" alt="uc(ct) = vmt (mt )
" class="math-display" ><a 
 id="x1-6003r13"></a></div>
  </td><td class="equation-label">(13)</td></tr></table>
<!--l. 3--><p class="nopar" >and rolling forward one period,
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs55x.svg" alt=" c          m
u (ct+1 ) = v t+1(atℛt+1 + 𝜃t+1)
" class="math-display" ><a 
 id="x1-6004r14"></a></div>
  </td><td class="equation-label">(14)</td></tr></table>
<!--l. 356--><p class="nopar" >and substituting the LHS in equation (<a 
href="#x1-6001r11">11<!--tex4ht:ref: eq:upceqEvtp1 --></a>) ﬁnally gives us the Euler equation for
consumption:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs56x.svg" alt="uc(ct) = 𝔼t→ [βR 𝒢−t+ρ1uc(ct+1)].
" class="math-display" ><a 
 id="x1-6005r15"></a></div>
  </td><td class="equation-label">(15)</td></tr></table>
<!--l. 3--><p class="nopar" >
<!--l. 372--><p class="indent" >  For future reference, it may be useful here to write the distinct value functions at each step
(using the transition equations from (<a 
href="#x1-3005r10">10<!--tex4ht:ref: eq:vNormed --></a>)):
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs57x.svg" alt="                    =mt
                 ◜--◞◟---◝
v←t(kt) = 𝔼←t [vt(ktℛt + 𝜃t)]
" class="math-display" ><a 
 id="x1-6006r16"></a></div>
  </td><td class="equation-label">(16)</td></tr></table>
<!--l. 3--><p class="nopar" >
  <table 
class="equation"><tr><td>
  <div class="math-display" >
                                                                                     
                                                                                     
<img 
src="SolvingMicroDSOPs58x.svg" alt="                          --at--
v (m ) = u(c (m  )) + v  (◜m  ◞−◟ ◝c)
 t   t      t   t     t→   t    t
" class="math-display" ><a 
 id="x1-6007r17"></a></div>
  </td><td class="equation-label">(17)</td></tr></table>
<!--l. 3--><p class="nopar" >and
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs59x.svg" alt="vt→ (at) = βv ←t+1(kt+1)
                  ◟◝◜◞
                   =at
" class="math-display" ><a 
 id="x1-6008r18"></a></div>
  </td><td class="equation-label">(18)</td></tr></table>
<!--l. 3--><p class="nopar" >where the last line illustrates the notation for addressing the beginning step of the successor
period.
<!--l. 397--><p class="indent" >  Putting all this together, from the perspective of the beginning of period <img 
src="SolvingMicroDSOPs60x.svg" alt="t + 1  " class="math";align="absmiddle"> we can
write the ‘arrival value’ function and its ﬁrst derivative as
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs61x.svg" alt="                       1−ρ
v←t+1(kt+1) = 𝔼←t+1 [ 𝒢t+1vt+1(ℛt+1kt + 𝜃t+1)]
vk   (kt+1) = 𝔼←t+1 [R 𝒢 −ρvm  (mt+1 )]
 ←t+1                  t+1 t+1
" class="math-display" ><a 
 id="x1-6009r19"></a></div>
  </td><td class="equation-label">(19)</td></tr></table>
<!--l. 4--><p class="nopar" >because they return the expected <img 
src="SolvingMicroDSOPs62x.svg" alt="t + 1  " class="math";align="absmiddle"> value and marginal value associated with arriving in
period <img 
src="SolvingMicroDSOPs63x.svg" alt="t + 1  " class="math";align="absmiddle"> with any given amount of <span 
class="ecbx-1200">k</span>apital. Finally, note for future use that since
<img 
src="SolvingMicroDSOPs64x.svg" alt="kt+1 = at  " class="math";align="absmiddle"> and <img 
src="SolvingMicroDSOPs65x.svg" alt="vt→ (at) = βv←t+1(kt+1)  " class="math";align="absmiddle">, the ﬁrst order condition (<a 
href="#x1-6001r11">11<!--tex4ht:ref: eq:upceqEvtp1 --></a>) can now be rewritten
compactly as
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs66x.svg" alt=" c        a
u (ct) = v t→ (mt − ct).
" class="math-display" ><a 
 id="x1-6010r20"></a></div>
  </td><td class="equation-label">(20)</td></tr></table>
<!--l. 4--><p class="nopar" >
<!--l. 440--><p class="indent" >  <a 
 id="Solving-the-Next-To-Last-Period"></a>
  <h3 class="sectionHead"><span class="titlemark">5  </span> <a 
 id="x1-70005"></a>Solving the Next-to-Last Period</h3>                                                   <span 
class="ecrm-0600">{sec:NextToLast}</span>
<!--l. 446--><p class="noindent" >For convenience assuming that <img 
src="SolvingMicroDSOPs67x.svg" alt="𝒢 =  1  " class="math";align="absmiddle"> so that the <img 
src="SolvingMicroDSOPs68x.svg" alt="𝒢 " class="math";align="absmiddle"> terms disappear from the earlier
derivations, the problem in the second-to-last period of life can now be expressed
as
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs69x.svg" alt="                                       ⌊                           ⌋

v   (m    ) = max   u (c    ) + β 𝔼     ⌈v  ((m    −  c   )ℛ   + 𝜃 )⌉ ,
 T−1   T−1     cT−1     T −1       T−1→    T ◟--T−1----T◝−◜1---T----T◞
                                                      mT
" class="math-display" ></div>
  </td></tr></table>
<!--l. 450--><p class="nopar" >where <img 
src="SolvingMicroDSOPs70x.svg" alt="𝔼T −1→ " class="math";align="absmiddle"> indicates that the expectation is taken as of the end of period <img 
src="SolvingMicroDSOPs71x.svg" alt="T − 1  " class="math";align="absmiddle">.
<!--l. 453--><p class="indent" >  Using (1) the fact that <img 
src="SolvingMicroDSOPs72x.svg" alt="v  =  u(c )
  T      T  " class="math";align="absmiddle">; (2) the deﬁnition of <img 
src="SolvingMicroDSOPs73x.svg" alt="u(c )
   T  " class="math";align="absmiddle">; (3) the deﬁnition of the
expectations operator, this becomes:
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs74x.svg" alt="                     c1−ρ     ∫  ∞ ((m     − c   )ℛ   + 𝜗)1−ρ
vT−1(mT − 1) = max    -T−1-+  β     ----T−1----T−1---T--------d ℱ(𝜗 )
               cT−1   1 − ρ      0             1 − ρ
" class="math-display" ></div>
  </td></tr></table>
<!--l. 462--><p class="nopar" >where <img 
src="SolvingMicroDSOPs75x.svg" alt="ℱ " class="math";align="absmiddle"> is the cumulative distribution function for <img 
src="SolvingMicroDSOPs76x.svg" alt="𝜃T  " class="math";align="absmiddle">.
<!--l. 465--><p class="indent" >  The maximization implicitly deﬁnes a function <img 
src="SolvingMicroDSOPs77x.svg" alt="cT− 1(mT  −1)  " class="math";align="absmiddle"> that yields optimal
consumption in period <img 
src="SolvingMicroDSOPs78x.svg" alt="T − 1  " class="math";align="absmiddle"> for any speciﬁc numerical level of resources like <img 
src="SolvingMicroDSOPs79x.svg" alt="m     =  1.7
  T −1  " class="math";align="absmiddle">.
But because there is no general analytical solution to this problem, for any given <img 
src="SolvingMicroDSOPs80x.svg" alt="mT −1   " class="math";align="absmiddle"> we
must use numerical computational tools to ﬁnd the <img 
src="SolvingMicroDSOPs81x.svg" alt="cT−1   " class="math";align="absmiddle"> that maximizes the expression. This
is excruciatingly slow because for every potential <img 
src="SolvingMicroDSOPs82x.svg" alt="cT−1   " class="math";align="absmiddle"> to be considered, a deﬁnite integral
over the interval <img 
src="SolvingMicroDSOPs83x.svg" alt="(0,∞ )  " class="math";align="absmiddle"> must be calculated numerically, and numerical integration is <span 
class="ecti-1200">very</span>
slow (especially over an unbounded domain!).
<!--l. 467--><p class="indent" >  <a 
 id="Discretizing-the-Distribution"></a>
  <h4 class="subsectionHead"><span class="titlemark">5.1  </span> <a 
 id="x1-80005.1"></a>Discretizing the Distribution</h4>
<!--l. 469--><p class="noindent" >Our ﬁrst speedup trick is therefore to construct a discrete approximation to the
lognormal distribution that can be used in place of numerical integration. That is, we
want to approximate the expectation over <img 
src="SolvingMicroDSOPs84x.svg" alt="𝜃  " class="math";align="absmiddle"> of a function <img 
src="SolvingMicroDSOPs85x.svg" alt="g(𝜃)  " class="math";align="absmiddle"> by calculating its
value at set of <img 
src="SolvingMicroDSOPs86x.svg" alt="n𝜃  " class="math";align="absmiddle"> points <img 
src="SolvingMicroDSOPs87x.svg" alt="𝜃i  " class="math";align="absmiddle">, each of which has an associated probability weight
<img 
src="SolvingMicroDSOPs88x.svg" alt="wi  " class="math";align="absmiddle">:
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs89x.svg" alt="             -
          ∫  𝜃
𝔼 [g(𝜃)] =   (𝜗 )dℱ (𝜗 )
            𝜃
          ∑n
        ≈     wig(𝜃i)
           𝜃=1
" class="math-display" ></div>
  </td></tr></table>
<!--l. 473--><p class="nopar" >(because adding <img 
src="SolvingMicroDSOPs90x.svg" alt="n  " class="math";align="absmiddle"> weighted values to each other is enormously faster than general-purpose
numerical integration).
<!--l. 476--><p class="indent" >  Such a procedure is called a ‘quadrature’ method of integration; <a 
href="#XTanaka2013-bc">Tanaka and Toda</a> (<a 
href="#XTanaka2013-bc">2013</a>)
survey a number of options, but for our purposes we choose the one which is easiest to
understand: An ‘equiprobable’ approximation (that is, one where each of the values of <img 
src="SolvingMicroDSOPs91x.svg" alt="𝜃i  " class="math";align="absmiddle"> has
                                                                                     
                                                                                     
an equal probability, equal to <img 
src="SolvingMicroDSOPs92x.svg" alt="1∕n𝜃  " class="math";align="absmiddle">).
<!--l. 478--><p class="indent" >  We calculate such an <img 
src="SolvingMicroDSOPs93x.svg" alt="n  " class="math";align="absmiddle">-point approximation as follows.
<!--l. 480--><p class="indent" >  Deﬁne a set of points from <img 
src="SolvingMicroDSOPs94x.svg" alt="♯0   " class="math";align="absmiddle"> to <img 
src="SolvingMicroDSOPs95x.svg" alt="♯n
  𝜃   " class="math";align="absmiddle"> on the <img 
src="SolvingMicroDSOPs96x.svg" alt="[0,1]  " class="math";align="absmiddle"> interval as the elements of the set
<img 
src="SolvingMicroDSOPs97x.svg" alt="♯ = {0,1 ∕n,2∕n, ...,1} " class="math";align="absmiddle">.<span class="footnote-mark"><a 
href="SolvingMicroDSOPs6.html#fn5x0"><sup class="textsuperscript">5</sup></a></span><a 
 id="x1-8001f5"></a>  
Call the inverse of the <img 
src="SolvingMicroDSOPs99x.svg" alt="𝜃  " class="math";align="absmiddle"> distribution <img 
src="SolvingMicroDSOPs100x.svg" alt="  −1
ℱ   " class="math";align="absmiddle">, and deﬁne the points <img 
src="SolvingMicroDSOPs101x.svg" alt=" −1     −1
♯i  = ℱ   (♯i)  " class="math";align="absmiddle">. Then the
conditional mean of <img 
src="SolvingMicroDSOPs102x.svg" alt="𝜃  " class="math";align="absmiddle"> in each of the intervals numbered 1 to <img 
src="SolvingMicroDSOPs103x.svg" alt="n  " class="math";align="absmiddle"> is:
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="SolvingMicroDSOPs104x.svg" alt="                          ∫  ♯−i1
𝜃i ≡ 𝔼[𝜃|♯−i−11 ≤ 𝜃 &#x003C; ♯−i 1] =      𝜗 dℱ (𝜗),
                            ♯−i1−1
" class="math-display" ><a 
 id="x1-8003r21"></a></div>
  </td><td class="equation-label">(21)</td></tr></table>
<!--l. 486--><p class="nopar" >and when the integral is evaluated numerically for each <img 
src="SolvingMicroDSOPs105x.svg" alt="i  " class="math";align="absmiddle"> the result is a set of values of <img 
src="SolvingMicroDSOPs106x.svg" alt="𝜃  " class="math";align="absmiddle">
that correspond to the mean value in each of the <img 
src="SolvingMicroDSOPs107x.svg" alt="n  " class="math";align="absmiddle"> intervals.
<!--l. 489--><p class="indent" >  The method is illustrated in Figure <a 
href="#x1-80061">1<!--tex4ht:ref: fig:discreteapprox --></a>. The solid continuous curve represents the “true” CDF
<img 
src="SolvingMicroDSOPs108x.svg" alt="ℱ (𝜃)  " class="math";align="absmiddle"> for a lognormal distribution such that <img 
src="SolvingMicroDSOPs109x.svg" alt="𝔼 [𝜃 ] = 1  " class="math";align="absmiddle">, <img 
src="SolvingMicroDSOPs110x.svg" alt="σ𝜃 = 0.1  " class="math";align="absmiddle">. The short vertical line
segments represent the <img 
src="SolvingMicroDSOPs111x.svg" alt="n 𝜃  " class="math";align="absmiddle"> equiprobable values of <img 
src="SolvingMicroDSOPs112x.svg" alt="𝜃i  " class="math";align="absmiddle"> which are used to approximate this
distribution.<span class="footnote-mark"><a 
href="SolvingMicroDSOPs7.html#fn6x0"><sup class="textsuperscript">6</sup></a></span><a 
 id="x1-8004f6"></a>   <a 
 id="discreteApprox"></a>
<div class="figure" 
>
                                                                                     
                                                                                     
<a 
 id="x1-80061"></a>
                                                                                     
                                                                                     
<!--l. 3--><p class="noindent" > <img 
src="./Figures/discreteApprox.png" alt="pict"  
 width="358.50612pt" >
<figcaption class="caption" ><span class="id">Figure 1: </span><span  
class="content">Equiprobable Discrete Approximation to Lognormal Distribution <img 
src="SolvingMicroDSOPs113x.svg" alt="ℱ " class="math";align="absmiddle"></span></figcaption><!--tex4ht:label?: x1-80061 -->          <span 
class="ecrm-0600">{ﬁg:discreteapprox}</span>
                                                                                     
                                                                                     
  </div>
  <h3 class="likesectionHead"><a 
 id="x1-9000"></a>References</h3>
<!--l. 6--><p class="noindent" >
  <div class="thebibliography">
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XcagettiWprofiles"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">C</span><span 
class="small-caps">a</span><span 
class="small-caps">g</span><span 
class="small-caps">e</span><span 
class="small-caps">t</span><span 
class="small-caps">t</span><span 
class="small-caps">i</span><span 
class="small-caps">,</span>  <span 
class="small-caps">M</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">c</span><span 
class="small-caps">o</span>  </span>(2003):  “Wealth  Accumulation  Over  the  Life  Cycle  and
  Precautionary Savings,” <span 
class="ecti-1200">Journal of Business and Economic Statistics</span>, 21(3), 339–353.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XcarrollEGM"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">C</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">r</span><span 
class="small-caps">o</span><span 
class="small-caps">l</span><span 
class="small-caps">l</span><span 
class="small-caps">,</span> <span 
class="small-caps">C</span><span 
class="small-caps">h</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">o</span><span 
class="small-caps">p</span><span 
class="small-caps">h</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span></span><span 
class="eccc1200-"> <span 
class="small-caps">D</span><span 
class="small-caps">.</span> </span>(2006): “The Method of Endogenous Gridpoints for
  Solving
  Dynamic  Stochastic  Optimization  Problems,”  <span 
class="ecti-1200">Economics  Letters</span>,  91(3),  312–320,
  <a 
href="https://www.econ2.jhu.edu/people/ccarroll/EndogenousGridpoints.pdf" class="url" ><span 
class="ectt-1200">https://www.econ2.jhu.edu/people/ccarroll/EndogenousGridpoints.pdf</span></a>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XSolvingMicroDSOPs"></a><span class="bibsp">   </span></span>__________<span 
class="eccc1200-">   </span>(2023a):  “Solving  Microeconomic  Dynamic  Stochastic  Optimization
  Problems,” <span 
class="ecti-1200">Econ-ARK REMARK</span>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XBufferStockTheory"></a><span class="bibsp">   </span></span>__________<span 
class="eccc1200-">  </span>(2023b):  “Theoretical  Foundations  of  Buﬀer  Stock  Saving,”  <span 
class="ecti-1200">Revise and</span>
  <span 
class="ecti-1200">Resubmit, Quantitative Economics</span>.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XdeatonUnderstandingC"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">D</span><span 
class="small-caps">e</span><span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">o</span><span 
class="small-caps">n</span><span 
class="small-caps">,</span> <span 
class="small-caps">A</span><span 
class="small-caps">n</span><span 
class="small-caps">g</span><span 
class="small-caps">u</span><span 
class="small-caps">s</span></span><span 
class="eccc1200-"> <span 
class="small-caps">S</span><span 
class="small-caps">.</span> </span>(1992): <span 
class="ecti-1200">Understanding Consumption</span>. Oxford University Press,
  New York.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XgpLifecycle"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">G</span><span 
class="small-caps">o</span><span 
class="small-caps">u</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span><span 
class="small-caps">h</span><span 
class="small-caps">a</span><span 
class="small-caps">s</span><span 
class="small-caps">,</span> <span 
class="small-caps">P</span><span 
class="small-caps">i</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">r</span><span 
class="small-caps">e</span><span 
class="small-caps">-</span><span 
class="small-caps">O</span><span 
class="small-caps">l</span><span 
class="small-caps">i</span><span 
class="small-caps">v</span><span 
class="small-caps">i</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">,</span> <span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">d</span> <span 
class="small-caps">J</span><span 
class="small-caps">o</span><span 
class="small-caps">n</span><span 
class="small-caps">a</span><span 
class="small-caps">t</span><span 
class="small-caps">h</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span> <span 
class="small-caps">P</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">k</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span> </span>(2002): “Consumption
  Over the Life Cycle,” <span 
class="ecti-1200">Econometrica</span>, 70(1), 47–89.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xkopecky2010finite"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">K</span><span 
class="small-caps">o</span><span 
class="small-caps">p</span><span 
class="small-caps">e</span><span 
class="small-caps">c</span><span 
class="small-caps">k</span><span 
class="small-caps">y</span><span 
class="small-caps">,</span>   <span 
class="small-caps">K</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">e</span><span 
class="small-caps">n</span></span><span 
class="eccc1200-"> <span 
class="small-caps">A</span><span 
class="small-caps">.</span><span 
class="small-caps">,</span>   <span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">d</span>   <span 
class="small-caps">R</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">h</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">d</span></span><span 
class="eccc1200-"> <span 
class="small-caps">M</span><span 
class="small-caps">.</span><span 
class="small-caps">H</span><span 
class="small-caps">.</span>   <span 
class="small-caps">S</span><span 
class="small-caps">u</span><span 
class="small-caps">e</span><span 
class="small-caps">n</span>  </span>(2010):   “Finite   State
  Markov-Chain Approximations To Highly Persistent Processes,” <span 
class="ecti-1200">Review of Economic</span>
  <span 
class="ecti-1200">Dynamics</span>, 13(3), 701–714, <a 
href="http://www.karenkopecky.net/RouwenhorstPaper.pdf" class="url" ><span 
class="ectt-1200">http://www.karenkopecky.net/RouwenhorstPaper.pdf</span></a>.
  </p>
                                                                                     
                                                                                     
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xmerton:restat"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">M</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">t</span><span 
class="small-caps">o</span><span 
class="small-caps">n</span><span 
class="small-caps">,</span> <span 
class="small-caps">R</span><span 
class="small-caps">o</span><span 
class="small-caps">b</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span><span 
class="small-caps">t</span></span><span 
class="eccc1200-"> <span 
class="small-caps">C</span><span 
class="small-caps">.</span> </span>(1969): “Lifetime Portfolio Selection under Uncertainty: The
  Continuous Time Case,” <span 
class="ecti-1200">Review of Economics and Statistics</span>, 51, 247–257.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xsamuelson:portfolio"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">S</span><span 
class="small-caps">a</span><span 
class="small-caps">m</span><span 
class="small-caps">u</span><span 
class="small-caps">e</span><span 
class="small-caps">l</span><span 
class="small-caps">s</span><span 
class="small-caps">o</span><span 
class="small-caps">n</span><span 
class="small-caps">,</span> <span 
class="small-caps">P</span><span 
class="small-caps">a</span><span 
class="small-caps">u</span><span 
class="small-caps">l</span></span><span 
class="eccc1200-"> <span 
class="small-caps">A</span><span 
class="small-caps">.</span> </span>(1969): “Lifetime Portfolio Selection by Dynamic Stochastic
  Programming,” <span 
class="ecti-1200">Review of Economics and Statistics</span>, 51, 239–46.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XTanaka2013-bc"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">T</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">a</span><span 
class="small-caps">k</span><span 
class="small-caps">a</span><span 
class="small-caps">,</span>    <span 
class="small-caps">K</span><span 
class="small-caps">e</span><span 
class="small-caps">n</span><span 
class="small-caps">’</span><span 
class="small-caps">i</span><span 
class="small-caps">c</span><span 
class="small-caps">h</span><span 
class="small-caps">i</span><span 
class="small-caps">r</span><span 
class="small-caps">o</span><span 
class="small-caps">,</span>    <span 
class="small-caps">a</span><span 
class="small-caps">n</span><span 
class="small-caps">d</span>    <span 
class="small-caps">A</span><span 
class="small-caps">l</span><span 
class="small-caps">e</span><span 
class="small-caps">x</span><span 
class="small-caps">i</span><span 
class="small-caps">s</span></span><span 
class="eccc1200-"> <span 
class="small-caps">A</span><span 
class="small-caps">k</span><span 
class="small-caps">i</span><span 
class="small-caps">r</span><span 
class="small-caps">a</span>    <span 
class="small-caps">T</span><span 
class="small-caps">o</span><span 
class="small-caps">d</span><span 
class="small-caps">a</span>   </span>(2013):    “Discrete
  approximations of continuous distributions by maximum entropy,” <span 
class="ecti-1200">Economics letters</span>,
  118(3), 445–450.
  </p>
  <p class="bibitem" ><span class="biblabel">
<a 
 id="Xvalencia:2006"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">V</span><span 
class="small-caps">a</span><span 
class="small-caps">l</span><span 
class="small-caps">e</span><span 
class="small-caps">n</span><span 
class="small-caps">c</span><span 
class="small-caps">i</span><span 
class="small-caps">a</span><span 
class="small-caps">,</span> <span 
class="small-caps">F</span><span 
class="small-caps">a</span><span 
class="small-caps">b</span><span 
class="small-caps">i</span><span 
class="small-caps">a</span><span 
class="small-caps">n</span> </span>(2006): “Banks’ Financial Structure and Business Cycles,” Ph.D.
  thesis, Johns Hopkins University.
</p>
  </div>
   
</body> 
</html>
                                                                                     


