<!DOCTYPE html> 
<html lang="en" xml:lang="en" > 
<head>
  <title>The Method of Moderation</title> 
<meta  charset="utf-8" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="viewport" content="width=device-width,initial-scale=1" /> 
<link rel="stylesheet" type="text/css" href="cctwMoM.css" /> 
<meta name="src" content="cctwMoM.tex"> 
</head><body 
>
  <div class="maketitle">
<h2 class="titleHead">The Method of Moderation</h2>
<div class="date" >April 2, 2024</div>
<span 
class="ecrm-0600"> </span>
 <div class="author" ><span 
class="ecrm-1440">Christopher D. Carroll</span><sup class="textsuperscript"><span 
class="ecrm-0600">1</span></sup>
<br /> <span 
class="ecrm-1095">JHU </span><br class="and" /><span 
class="ecrm-1440">Karsten Chipeniuk</span>
<br />  <span 
class="ecrm-1095">RBNZ </span><br class="and" /><span 
class="ecrm-1440">Kiichi Tokuoka</span><sup class="textsuperscript"><span 
class="ecrm-0600">2</span></sup>
<br />     <span 
class="ecrm-1095">ECB </span><br class="and" /><span 
class="ecrm-1440">Weifeng Wu</span><sup class="textsuperscript"><span 
class="ecrm-0600">3</span></sup>
<br />         <span 
class="ecrm-1095">Fannie Mae </span></div><br />
</div>
  <section role="doc-abstract" class="abstract"> 

<!--l. 72--><p class="noindent" > <br 
class="newline" />_____________________________________________________________________________________
<!--l. 72--><p class="noindent" ><span 
class="ecbx-1200">Abstract</span><br 
class="newline" />   <span 
class="ecrm-1095">In a risky world, a pessimist assumes the worst will happen. Someone who ignores risk altogether</span>
<span 
class="ecrm-1095">is an optimist. Consumption decisions are mathematically simple for both the pessimist and the</span>
<span 
class="ecrm-1095">optimist because both behave as if they live in a riskless world. A realist (that is, someone</span>
<span 
class="ecrm-1095">who wants to respond optimally to risk) faces a much more diﬃcult problem, but (under</span>
<span 
class="ecrm-1095">standard conditions) will choose a level of spending somewhere between pessimist’s and the</span>
<span 
class="ecrm-1095">optimist’s. We use this fact to redeﬁne the space in which the realist searches for optimal</span>
<span 
class="ecrm-1095">consumption rules. The resulting solution accurately represents the numerical consumption</span>
<span 
class="ecrm-1095">rule over the entire interval of feasible wealth values with remarkably few computations.</span>
<br 
class="newline" />
        <blockquote class="quote">
                     <dl class="list2"><dt class="list">
<span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> Keywords</span><span 
class="ecbx-1200"> </span></dt><dd 
class="list">
                 <!--l. 74--><p class="noindent" >Dynamic Stochastic Optimization
                   </dd><dt class="list">
<span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> </span><span 
class="ecbx-1200"> JEL codes</span><span 
class="ecbx-1200"> </span></dt><dd 
class="list">
                 <!--l. 74--><p class="noindent" >FillInLater</dd></dl>
        </blockquote>
</section>
<!--l. 95--><p class="indent" >   <span class="footnote-mark"><sup class="textsuperscript"></sup></span>
        <sup class="textsuperscript"></sup><!--l. 92--><p class="indent" > <sup class="textsuperscript">
<span 
class="ecrm-0600">1</span></sup><span 
class="ecrm-1000">Carroll: Department of Economics, Johns Hopkins University, Baltimore, MD,</span>
                                                                                     
                                                                                     
<!--l. 102--><p class="indent" >
<a 
href="http://econ.jhu.edu/people/ccarroll/" class="url" ><span 
class="ectt-1000">http://econ.jhu.edu/people/ccarroll/</span></a><span 
class="ecrm-1000">,  </span><a 
href="mailto:ccarroll@jhu.edu" ><span 
class="ectt-1000">ccarroll@jhu.edu</span></a><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000">  </span><sup class="textsuperscript"><span 
class="ecrm-0600">2</span></sup><span 
class="ecrm-1000">Tokuoka: International Monetary</span>
<span 
class="ecrm-1000">Fund, Washington, DC,  </span><a 
href="mailto:ktokuoka@imf.org" ><span 
class="ectt-1000">ktokuoka@imf.org</span></a><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000">  </span><sup class="textsuperscript"><span 
class="ecrm-0600">3</span></sup><span 
class="ecrm-1000">Wu: Weifeng Wu, Fanie Mae, Washington DC,</span>
<a 
href="mailto:weifeng_wu@fanniemae.com" ><span 
class="ecrm-1000">.</span></a><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span><span 
class="ecrm-1000"> </span>
                                                                                     
                                                                                     
<!--l. 107--><p class="indent" >  <a 
 id="Introduction"></a>
  <h3 class="sectionHead"><span class="titlemark">1  </span> <a 
 id="x1-10001"></a>Introduction</h3>
<!--l. 110--><p class="noindent" >Solving a consumption, investment, portfolio choice, or similar intertemporal optimization
problem using numerical methods generally requires the modeler to choose how to
represent a policy or value function. In the stochastic case, where analytical solutions
are generally not available, a common approach is to use low-order polynominal
splines that exactly match the function (and maybe some derivatives) at a ﬁnite
set of gridpoints, and then to assume that interpolated or extrapolated versions
of that spline represent the function well at the continuous inﬁnity of unmatched
points.
<!--l. 120--><p class="indent" >  This paper argues that a better approach in the standard consumption problem is to rely
upon the fact that without uncertainty, the optimal consumption function has a simple
analytical solution. The key insight is that, under standard assumptions, the consumer who
faces an uninsurable labor income risk will consume less than a consumer with the same path
for expected income but who does not perceive any uncertainty as being attached to that
future income. The ‘realistic’ consumer, who  <span 
class="ecti-1200">does </span>perceive the risks, will engage in
‘precautionary saving,’ so the perfect foresight riskless solution provides an upper bound to
the solution that will actually be optimal. A lower bound is provided by the behavior of a
consumer who has the subjective belief that the future level of income will be the worst that it
can possibly be. This consumer, too, behaves according to the convenient analytical perfect
foresight solution, but his certainty is that of a pessimist perfectly conﬁdent in his
pessimism.
<!--l. 136--><p class="indent" >  Using results from <a 
href="#XBufferStockTheory">Carroll</a> (<a 
href="#XBufferStockTheory">2023</a>), we show how to use these upper and lower bounds to
tightly constrain the shape and characteristics of the solution to problem of the ‘realist.’
Imposition of these constraints can clarify and speed the solution of the realist’s
problem.
<!--l. 141--><p class="indent" >  After showing how to use the method in the baseline case, we show how reﬁne it to
encompass an even tighter theoretical bound.
<!--l. 146--><p class="indent" >  <a 
 id="The-Realists-Problem"></a>
  <h3 class="sectionHead"><span class="titlemark">2  </span> <a 
 id="x1-20002"></a>The Realist’s Problem</h3>
<!--l. 149--><p class="noindent" >We assume that truly optimal behavior in the problem facing the consumer who understands
all his risks is captured by
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="cctwMoM0x.svg" alt="        [T −t          ]
         ∑    n
max  𝔼t      β  u(ct+n ) .
          n=0
" class="math-display" ><a 
 id="x1-2001r1"></a></div>
  </td><td class="equation-label">(1)</td></tr></table>
<!--l. 3--><p class="nopar" > subject to
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM1x.svg" alt="   at = mt −  ct
 b    = a R
  t+1    t t+1
 yt+1 = pt+1𝜃t+1
mt+1  = bt+1 + yt+1
" class="math-display" ><a 
 id="x1-2002r2"></a></div>
  </td><td class="equation-label">(2)</td></tr></table>
<!--l. 6--><p class="nopar" > where
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM2x.svg" alt="   β − pure time discount factor
  at − assets after all actions have been accomplished in period t

bt+1 − ‘bank balances’ (nonhuman   wealth) at the beginning of t + 1
  ct − consumption  in period t

 mt  − ‘market resources’ available for consumption (‘cash-on-hand ’)
pt+1 − ‘permanent  labor  income ’ in period t + 1
R    − interest factor (1 + r  ) from period  t to t + 1
 t+1                       t+1
yt+1 − noncapital income in period t + 1.
                                                                                     
                                                                                     
" class="math-display" ></div>
  </td></tr></table>
<!--l. 10--><p class="nopar" > and the exogenous variables evolve according to
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM3x.svg" alt="            pt+1 = 𝒢t+1pt   -permanent   labor income  dynamics
log  𝜃t+n ∼  𝒩  (− σ2𝜃∕2,σ2𝜃)  -lognormal  transitory shocks ∀ n &#x003E;  0.
" class="math-display" ><a 
 id="x1-2003r3"></a></div>
  </td><td class="equation-label">(3)</td></tr></table>
<!--l. 5--><p class="nopar" >
<!--l. 159--><p class="indent" >  It turns out (see <span 
class="ecbx-1200">? </span>for a proof) that this problem can be rewritten in a more convenient
form in which choice and state variables are normalized by the level of permanent
income, e.g., using nonbold font for normalized variables, <img 
src="cctwMoM4x.svg" alt="mt =  ct∕pppt  " class="math";align="absmiddle">. When that is
done, the Bellman equation for the transformed version of the consumer’s problem
is
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM5x.svg" alt="                             1−ρ
vt(mt ) = maxct u (ct) + β 𝔼t[𝒢 t+1 vt+1(mt+1)]

      s.t.
     at = mt − ct

  kt+1 = at
  mt+1 = (R ∕𝒢t+1)kt+1 + 𝜃t+1,
         ◟---◝◜--◞
           ≡ℛt+1
" class="math-display" ><a 
 id="x1-2004r4"></a></div>
  </td><td class="equation-label">(4)</td></tr></table>
<!--l. 8--><p class="nopar" > and because we have not imposed a liquidity constraint, the solution satisﬁes the Euler
equation
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="cctwMoM6x.svg" alt="  c              − ρ c
u (ct) = 𝔼t→ [βR 𝒢t+1u (ct+1)].
" class="math-display" ><a 
 id="x1-2005r5"></a></div>
  </td><td class="equation-label">(5)</td></tr></table>
<!--l. 3--><p class="nopar" >
<!--l. 169--><p class="indent" >  For the remainder of the paper we will assume that permanent income <img 
src="cctwMoM7x.svg" alt="pppt  " class="math";align="absmiddle"> grows by a
constant factor <img 
src="cctwMoM8x.svg" alt="𝒢 " class="math";align="absmiddle"> and is not subject to stochastic shocks. (The generalization to the case
with permanent shocks is straightforward.)
<!--l. 176--><p class="indent" >  <a 
 id="Benchmark"></a>
  <h3 class="sectionHead"><span class="titlemark">3  </span> <a 
 id="x1-30003"></a>Benchmark: The Method of Endogenous Gridpoints</h3>
<!--l. 179--><p class="noindent" >For comparison to our new solution method, we use the endogenous gridpoints solution to the
microeconomic problem presented in <span 
class="ecbx-1200">?</span>. That method computes the level of consumption at a
set of gridpoints for market resources <img 
src="cctwMoM9x.svg" alt="m  " class="math";align="absmiddle"> that are determined endogenously using the Euler
equation. The consumption function is then constructed by linear interpolation among the
gridpoints thus found.
<!--l. 187--><p class="indent" >  <span 
class="ecbx-1200">? </span>describes a speciﬁc calibration of the model and constructs a solution using ﬁve
gridpoints chosen to capture the structure of the consumption function reasonably
well at values of <img 
src="cctwMoM10x.svg" alt="m  " class="math";align="absmiddle"> near the inﬁnite-horizon target value. (See those notes for
details).
<!--l. 1--><p class="indent" >  Unfortunately, this endogenous gridpoints solution is not very well-behaved outside the
original range of gridpoints targeted by the solution method. (Though other common solution
methods are no better outside their own predeﬁned ranges). Figure <a 
href="#x1-30011">1<!--tex4ht:ref: fig:ExtrapProblem --></a> demonstrates the point
by plotting the amount of precautionary saving implied by a linear extrapolation of our
approximated consumption rule (the consumption of the perfect foresight consumer
<img 
src="cctwMoM11x.svg" alt="¯cT− 1 " class="math";align="absmiddle"> minus our approximation to optimal consumption under uncertainty, <img 
src="cctwMoM12x.svg" alt="`cT− 1   " class="math";align="absmiddle">).
Although theory proves that precautionary saving is always positive, the linearly
extrapolated numerical approximation eventually predicts negative precautionary
saving (at the point in the ﬁgure where the extrapolated locus crosses the horizontal
axis).
<!--l. 15--><p class="indent" >  <a 
 id="ExtrapProblemPlot"></a> <div class="figure" 
>
                                                                                     
                                                                                     
<a 
 id="x1-30011"></a>
                                                                                     
                                                                                     
<!--l. 17--><p class="noindent" > <img 
src="././Figures/ExtrapProblemPlot.png" alt="pict"  
 width="433.62pt" >
<figcaption class="caption" ><span class="id">Figure 1: </span><span  
class="content">For Large Enough <img 
src="cctwMoM13x.svg" alt="mT −1   " class="math";align="absmiddle">, Predicted Precautionary Saving is Negative (Oops!)</span></figcaption><!--tex4ht:label?: x1-30011 -->
                                                                                     
                                                                                     
  </div>
<!--l. 22--><p class="indent" >  This error cannot be ﬁxed by extending the upper gridpoint; in the presence of
serious uncertainty, the consumption rule will need to be evaluated outside of <span 
class="ecti-1200">any</span>
prespeciﬁed grid (because starting from the top gridpoint, a large enough realization
of the uncertain variable will push next period’s realization of assets above that
top; a similar argument applies below the bottom gridpoint). While a judicious
extrapolation technique can prevent this problem from being fatal (for example by carefully
excluding negative precautionary saving), the problem is often dealt with using
inelegant methods whose implications for the accuracy of the solution are diﬃcult to
gauge.
<!--l. 194--><p class="indent" >  <a 
 id="The-Method-Of-Moderation"></a>
  <h3 class="sectionHead"><span class="titlemark">4  </span> <a 
 id="x1-40004"></a>The Method of Moderation</h3>
<!--l. 197--><p class="noindent" ><a 
 id="The-Optimist-The-Pessimist-and-the-Realist"></a>
  <h4 class="subsectionHead"><span class="titlemark">4.1  </span> <a 
 id="x1-50004.1"></a>The Optimist, the Pessimist, and the Realist</h4>
<!--l. 200--><p class="noindent" ><a 
 id="The-Consumption-Function"></a>
  <h5 class="subsubsectionHead"><span class="titlemark">4.1.1  </span> <a 
 id="x1-60004.1.1"></a>The Consumption Function</h5>
<!--l. 1--><p class="noindent" >As a preliminary to our solution, deﬁne <img 
src="cctwMoM14x.svg" alt="ht→ " class="math";align="absmiddle"> as end-of-period human wealth (the
present discounted value of future labor income) for a perfect foresight version
of the problem of a ‘risk optimist:’ a period-<img 
src="cctwMoM15x.svg" alt="t  " class="math";align="absmiddle"> consumer who believes with
perfect conﬁdence that the shocks will always take their expected value of 1,
<img 
src="cctwMoM16x.svg" alt="𝜃t+n = 𝔼 [𝜃] = 1 ∀ n &#x003E; 0  " class="math";align="absmiddle">. The solution to a perfect foresight problem of this kind takes the
form<span class="footnote-mark"><a 
href="cctwMoM2.html#fn2x0"><sup class="textsuperscript">2</sup></a></span><a 
 id="x1-6001f2"></a>  
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM19x.svg" alt="¯ct(mt ) = (mt + ht→ )κt
                                                                                     
                                                                                     
" class="math-display" ><a 
 id="x1-6003r6"></a></div>
  </td><td class="equation-label">(6)</td></tr></table>
<!--l. 3--><p class="nopar" >for a constant minimal marginal propensity to consume <img 
src="cctwMoM20x.svg" alt="κ-
 t  " class="math";align="absmiddle"> given below.  We similarly deﬁne
<img 
src="cctwMoM21x.svg" alt="𝔥
-t→ " class="math";align="absmiddle"> as ‘minimal human wealth,’ the present discounted value of labor income if the shocks
were to take on their worst possible value in every future period <img 
src="cctwMoM22x.svg" alt="𝜃t+n = 𝜃-∀ n &#x003E;  0  " class="math";align="absmiddle"> (which we
deﬁne as corresponding to the beliefs of a ‘pessimist’).
<!--l. 12--><p class="indent" >  A ﬁrst useful point is that, for the realist, a lower bound for the level of market resources is
<img 
src="cctwMoM23x.svg" alt="m   = − 𝔥
--t     -t→ " class="math";align="absmiddle">, because if <img 
src="cctwMoM24x.svg" alt="m
  t  " class="math";align="absmiddle"> equalled this value then there would be a positive ﬁnite chance
(however small) of receiving <img 
src="cctwMoM25x.svg" alt="𝜃t+n = 𝜃-  " class="math";align="absmiddle"> in every future period, which would require the
consumer to set <img 
src="cctwMoM26x.svg" alt="ct  " class="math";align="absmiddle"> to zero in order to guarantee that the intertemporal budget constraint
holds. Since consumption of zero yields negative inﬁnite utility, the solution to realist
consumer’s problem is not well deﬁned for values of <img 
src="cctwMoM27x.svg" alt="m   &#x003C; m
  t   --t  " class="math";align="absmiddle">, and the limiting value of the
realist’s <img 
src="cctwMoM28x.svg" alt="ct  " class="math";align="absmiddle"> is zero as <img 
src="cctwMoM29x.svg" alt="mt ↓ mt  " class="math";align="absmiddle">.
<!--l. 28--><p class="indent" >  Given this result, it will be convenient to deﬁne ‘excess’ market resources as the amount by
which actual resources exceed the lower bound, and ‘excess’ human wealth as the
amount by which mean expected human wealth exceeds guaranteed minimum human
wealth:
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM30x.svg" alt="              =◜−◞m◟t◝
 ▴mt  = mt  +  𝔥
               -t→
▴ht → = ht→ −  𝔥t→.
" class="math-display" ></div>
  </td></tr></table>
<!--l. 35--><p class="nopar" >
<!--l. 37--><p class="indent" >  We can now transparently deﬁne the optimal consumption rules for the two perfect foresight
problems, those of the ‘optimist’ and the ‘pessimist.’ The ‘pessimist’ perceives human wealth
to be equal to its minimum feasible value <img 
src="cctwMoM31x.svg" alt="𝔥t
  → " class="math";align="absmiddle"> with certainty, so consumption is given by the
perfect foresight solution
  <table 
class="equation-star"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="cctwMoM32x.svg" alt="ct(mt ) = (mt + 𝔥t→)κt
      =  ▴m  κ .
            t-t
" class="math-display" ></div>
  </td></tr></table>
<!--l. 46--><p class="nopar" >
<!--l. 48--><p class="indent" >  The ‘optimist,’ on the other hand, pretends that there is no uncertainty about future
income, and therefore consumes
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM33x.svg" alt="¯ct(mt ) = (mt + 𝔥t→ − 𝔥t→ + ht→ )κt
      =  (▴mt +  ▴ht  )κ-
                    →   t
      =  ct(mt ) + ▴ht → κt.
" class="math-display" ></div>
  </td></tr></table>
<!--l. 55--><p class="nopar" >
<!--l. 57--><p class="indent" >  It seems obvious that the spending of the realist will be strictly greater than that of the
pessimist and strictly less than that of the optimist. Figure <a 
href="#x1-60042">2<!--tex4ht:ref: fig:IntExpFOCInvPesReaOptNeedHiPlot --></a> illustrates the proposition for
the consumption rule in period <img 
src="cctwMoM34x.svg" alt="T −  1  " class="math";align="absmiddle">.
<!--l. 1--><p class="indent" >  <a 
 id="IntExpFOCInvPesReaOptNeedHiPlot"></a> <div class="figure" 
>
                                                                                     
                                                                                     
<a 
 id="x1-60042"></a>
                                                                                     
                                                                                     
<!--l. 3--><p class="noindent" > <img 
src="./Figures/IntExpFOCInvPesReaOptNeedHiPlot.png" alt="pict"  
 width="433.62pt" >
<figcaption class="caption" ><span class="id">Figure 2: </span><span  
class="content">Moderation Illustrated: <img 
src="cctwMoM35x.svg" alt="cT−1 &#x003C; `cT− 1 &#x003C; ¯cT −1   " class="math";align="absmiddle"></span></figcaption><!--tex4ht:label?: x1-60042 -->
                                                                                     
                                                                                     
  </div>
<!--l. 2--><p class="indent" >  The proof is more diﬃcult than might be imagined, but the necessary work is done in
<a 
href="#XBufferStockTheory">Carroll</a> (<a 
href="#XBufferStockTheory">2023</a>) so we will take the proposition as a fact and proceed by manipulating the
inequality:
<div class="center" 
>
<!--l. 2--><p class="noindent" >
<!--l. 9--><p class="noindent" > <div class="pic-tabular"><img 
src="cctwMoM36x.svg" alt="  ▴mt κt &#x003C;   ct(mt  + ▴mt ) &#x003C; (▴mt  + ▴ht→ )κt
− ▴mt κ-&#x003E;            − ct(mt + ▴mt )            &#x003E; − (▴mt +  ▴ht  )κ-
       t                                                       →   t
 ▴ht→ κt &#x003E;  ( ¯ct(mt + ▴mt  ) − ct(mt + ▴mt ) )  &#x003E; 0
       1 &#x003E;    ¯ct(mt-+-▴mt--) −-ct(mt-+-▴mt-)    &#x003E; 0
                         ▴ht →κt
            ◟---------------◝◜--------------◞
                            ≡ˆϙt  " ></div> </div>
<!--l. 1--><p class="noindent" >where the fraction in the middle of the last inequality is the ratio of actual precautionary saving
(the numerator is the diﬀerence between perfect-foresight consumption and optimal
consumption in the presence of uncertainty) to the maximum conceivable amount of
precautionary saving (the amount that would be undertaken by the pessimist who consumes
nothing out of any future income beyond the perfectly certain component).  Deﬁning
<img 
src="cctwMoM37x.svg" alt="μt = log ▴mt  " class="math";align="absmiddle"> (which can range from <img 
src="cctwMoM38x.svg" alt="−  ∞ " class="math";align="absmiddle"> to <img 
src="cctwMoM39x.svg" alt="∞ " class="math";align="absmiddle">), the object in the middle of the last
inequality is
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM40x.svg" alt="         (¯c (m- + eμt) − c (m-  + eμt))
ˆϙt(μt) ≡  -t---t----------t--t------   ,
                    ▴ht→ κt
" class="math-display" ><a 
 id="x1-6005r7"></a></div>
  </td><td class="equation-label">(7)</td></tr></table>
<!--l. 5--><p class="nopar" >and we now deﬁne
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM41x.svg" alt="            (           )
              1 − ˆϙt(μt)
ˆχχχt(μt) = log   ----------
                ˆϙt(μt)
      =  log (1∕ˆϙt(μt) − 1 )
" class="math-display" ><a 
 id="x1-6006r8"></a></div>
  </td><td class="equation-label">(8)</td></tr></table>
<!--l. 10--><p class="nopar" > which has the virtue that it is linear in the limit as <img 
src="cctwMoM42x.svg" alt="μt  " class="math";align="absmiddle"> approaches <img 
src="cctwMoM43x.svg" alt="+ ∞ " class="math";align="absmiddle">.
<!--l. 3--><p class="indent" >  Given <img 
src="cctwMoM44x.svg" alt="ˆχχχ  " class="math";align="absmiddle">, the consumption function can be recovered from
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM45x.svg" alt="                =ˆϙ
          ◜(-----◞◟t----)◝
                 1
ˆct = ¯ct −  1 +-exp-(ˆχχχ-) ▴ht →κt.
                     t
" class="math-display" ><a 
 id="x1-6007r9"></a></div>
  </td><td class="equation-label">(9)</td></tr></table>
<!--l. 3--><p class="nopar" >
<!--l. 2--><p class="indent" >  Thus, the procedure is to calculate <img 
src="cctwMoM46x.svg" alt="ˆχ
χχt  " class="math";align="absmiddle"> at the points <img 
src="cctwMoM47x.svg" alt="μ
μμt  " class="math";align="absmiddle"> corresponding to the log of the
<img 
src="cctwMoM48x.svg" alt="▴mmmt  " class="math";align="absmiddle"> points deﬁned above, and then using these to construct an interpolating approximation
<img 
src="cctwMoM49x.svg" alt="`ˆχχχt " class="math";align="absmiddle"> from which we indirectly obtain our approximated consumption rule <img 
src="cctwMoM50x.svg" alt="`ˆct  " class="math";align="absmiddle"> by substituting
<img 
src="cctwMoM51x.svg" alt="`ˆχχχt " class="math";align="absmiddle"> for <img 
src="cctwMoM52x.svg" alt="ˆχχχ  " class="math";align="absmiddle"> in equation (<a 
href="#x1-6007r9">9<!--tex4ht:ref: eq:cFuncHi --></a>).
<!--l. 8--><p class="indent" >  Because this method relies upon the fact that the problem is easy to solve if the decision
maker has unreasonable views (either in the optimistic or the pessimistic direction), and
because the correct solution is always between these immoderate extremes, we call our
solution procedure the ‘method of moderation.’
<!--l. 14--><p class="indent" >  Results are shown in Figure <a 
href="#x1-60083">3<!--tex4ht:ref: fig:ExtrapProblemSolved --></a>; a reader with very good eyesight might be able to detect the
barest hint of a discrepancy between the Truth and the Approximation at the far righthand
edge of the ﬁgure. <a 
 id="ExtrapProblemSolvedPlot"></a> <div class="figure" 
>
                                                                                     
                                                                                     
<a 
 id="x1-60083"></a>
                                                                                     
                                                                                     
<!--l. 21--><p class="noindent" > <img 
src="././Figures/ExtrapProblemSolvedPlot.png" alt="pict"  
 width="433.62pt" >
<figcaption class="caption" ><span class="id">Figure 3: </span><span  
class="content">Extrapolated <img 
src="cctwMoM53x.svg" alt="`ˆcT−1   " class="math";align="absmiddle"> Constructed Using the Method of Moderation</span></figcaption><!--tex4ht:label?: x1-60083 -->
                                                                                     
                                                                                     
  </div>
  <h5 class="subsubsectionHead"><span class="titlemark">4.1.2  </span> <a 
 id="x1-70004.1.2"></a>The Value Function</h5>
<!--l. 2--><p class="noindent" >Often it is useful to know the value function as well as the consumption rule. Fortunately,
many of the tricks used when solving for the consumption rule have a direct analogue in
approximation of the value function.
<!--l. 4--><p class="indent" >  Consider the perfect foresight (or “optimist’s”) problem in period <img 
src="cctwMoM54x.svg" alt="T − 1  " class="math";align="absmiddle">. Using the fact
that in a perfect foresight model the growth factor for consumption is <img 
src="cctwMoM55x.svg" alt="    1∕ρ
(Rβ)  " class="math";align="absmiddle">, we
can use the fact that <img 
src="cctwMoM56x.svg" alt="cT = (Rβ )1∕ρcT−1   " class="math";align="absmiddle"> to calculate the value function in period
<img 
src="cctwMoM57x.svg" alt="T −  1  " class="math";align="absmiddle">:
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM58x.svg" alt="¯vT−1(mT − 1) ≡ u (cT−1) +( βu (cT)       )
            = u (cT −1) 1 + β((βR )1∕ρ)1−ρ
                      (          1∕ρ− 1)
            = u (cT −1) 1 + β(βR )
            = u (c   )(1 + (βR )1∕ρ∕R )
                 T −1
            = u (cT −1)PDVTt (c)∕cT−1
                      ◟-----◝◜T-----◞
                           ≡ℂT−1
" class="math-display" ></div>
  </td></tr></table>
<!--l. 11--><p class="nopar" >where <img 
src="cctwMoM59x.svg" alt="ℂTt =  PDVTt (c)  " class="math";align="absmiddle"> is the present discounted value of consumption, normalized by current
consumption. Using the fact demonstrated in <a 
href="#XBufferStockTheory">Carroll</a> (<a 
href="#XBufferStockTheory">2023</a>) that <img 
src="cctwMoM60x.svg" alt="ℂt = κ −t1  " class="math";align="absmiddle">, a similar
function can be constructed recursively for earlier periods, yielding the general expression
<a 
 id="vFuncPF"></a>
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM61x.svg" alt="v¯t(mt ) = u(¯ct)ℂT
                t−1
       =  u(¯ct)κ-t
       =  u((▴mt  + ▴ht→ )κt)κ−t1
                          1−ρ − 1
       =  u(▴mt  + ▴ht→ )κt  κt
       =  u(▴m   + ▴h   )κ−ρ
               t      t→  -t
" class="math-display" ><a 
 id="x1-7001r10"></a></div>
  </td><td class="equation-label">(10)</td></tr></table>
<!--l. 7--><p class="nopar" >
<!--l. 9--><p class="indent" >  This can be transformed as
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM62x.svg" alt="¯Λt ≡ ((1 − ρ )¯vt)1∕(1− ρ)
         T 1∕(1−ρ)
  =  ct(ℂ t )
  =  (▴m  +  ▴h   )κ−ρ∕(1− ρ)
         t      t→  -t
" class="math-display" ></div>
  </td></tr></table>
<!--l. 14--><p class="nopar" > and since <img 
src="cctwMoM63x.svg" alt=" T
ℂt  " class="math";align="absmiddle"> is a constant while the consumption function is linear, <img 
src="cctwMoM64x.svg" alt="¯Λt  " class="math";align="absmiddle"> will also be
linear.
<!--l. 9--><p class="indent" >  We apply the same transformation to the value function for the problem with uncertainty
(the “realist’s” problem):
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM65x.svg" alt="¯Λt = ((1 − ρ)¯vt(mt ))1∕(1−ρ)
" class="math-display" ></div>
  </td></tr></table>
                                                                                     
                                                                                     
<!--l. 13--><p class="nopar" >and an excellent approximation to the value function can be obtained by calculating the values
of <img 
src="cctwMoM66x.svg" alt="¯Λ   " class="math";align="absmiddle"> at the same gridpoints used by the consumption function approximation, and
interpolating among those points.
<!--l. 18--><p class="indent" >  However, as with the consumption approximation, we can do even better if we realize that
the <img 
src="cctwMoM67x.svg" alt="¯Λ   " class="math";align="absmiddle"> function for the optimist’s problem is an upper bound for the <img 
src="cctwMoM68x.svg" alt="Λ   " class="math";align="absmiddle"> function in the
presence of uncertainty, and the value function for the pessimist is a lower bound. Analogously
to (<a 
href="#x1-6005r7">7<!--tex4ht:ref: eq:koppa --></a>), deﬁne an upper-case
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM69x.svg" alt="         ( ¯Λ (m  + eμt) − Λ (m + e μt))
ˆϘt(μt) =   -t---t----------t--t-------
               ▴ht →κt(ℂTt )1∕(1−ρ)
" class="math-display" ><a 
 id="x1-7002r11"></a></div>
  </td><td class="equation-label">(11)</td></tr></table>
<!--l. 24--><p class="nopar" > and an upper-case version of the <img 
src="cctwMoM70x.svg" alt="χχχ  " class="math";align="absmiddle"> equation in (<a 
href="#x1-6006r8">8<!--tex4ht:ref: eq:chi --></a>):
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM71x.svg" alt="            (     ˆ     )
ˆXt(μt) = log  1-−-Ϙt(μt)
                Ϙˆt(μt)
            (             )
       = log  1∕ˆϘt(μt) − 1
" class="math-display" ><a 
 id="x1-7003r12"></a></div>
  </td><td class="equation-label">(12)</td></tr></table>
<!--l. 34--><p class="nopar" > and if we approximate these objects then invert them (as above with the <img 
src="cctwMoM72x.svg" alt="ˆϙ  " class="math";align="absmiddle"> and <img 
src="cctwMoM73x.svg" alt="ˆχχχ  " class="math";align="absmiddle">
functions) we obtain a very high-quality approximation to our inverted value function at the
same points for which we have our approximated value function:
  <table 
class="equation"><tr><td>
                                                                                     
                                                                                     
  <div class="math-display" >
<img 
src="cctwMoM74x.svg" alt="                =ˆϘt
          ◜(-----◞◟-----)◝
                 1                 T 1∕(1−ρ)
ˆΛt = ¯Λt −   --------ˆ--- ▴ht → κt(ℂ t )
            1 + exp (Xt)
" class="math-display" ><a 
 id="x1-7004r13"></a></div>
  </td><td class="equation-label">(13)</td></tr></table>
<!--l. 45--><p class="nopar" >from which we obtain our approximation to the value function as <a 
 id="vHatFunc"></a>
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM75x.svg" alt=" ˆvt = u(ˆΛt)
 m     c     m
ˆvt  = u (ˆΛt)ˆΛ .
" class="math-display" ><a 
 id="x1-7005r14"></a></div>
  </td><td class="equation-label">(14)</td></tr></table>
<!--l. 52--><p class="nopar" >
<!--l. 54--><p class="indent" >  Although a linear interpolation that matches the level of <img 
src="cctwMoM76x.svg" alt="Λ   " class="math";align="absmiddle"> at the gridpoints is simple, a
Hermite interpolation that matches both the level and the derivative of the <img 
src="cctwMoM77x.svg" alt="¯Λt  " class="math";align="absmiddle"> function at the
gridpoints has the considerable virtue that the <img 
src="cctwMoM78x.svg" alt="¯vt  " class="math";align="absmiddle"> derived from it numerically satisﬁes
the envelope theorem at each of the gridpoints for which the problem has been
solved.
<!--l. 222--><p class="noindent" >
  <h3 class="sectionHead"><span class="titlemark">5  </span> <a 
 id="x1-80005"></a>Extensions</h3>
<!--l. 224--><p class="noindent" >
  <h4 class="subsectionHead"><span class="titlemark">5.1  </span> <a 
 id="x1-90005.1"></a>A Tighter Upper Bound</h4>
                                                                                     
                                                                                     
<!--l. 1--><p class="noindent" ><a 
href="#XBufferStockTheory">Carroll</a> (<a 
href="#XBufferStockTheory">2023</a>) derives an upper limit <img 
src="cctwMoM79x.svg" alt="κ¯t  " class="math";align="absmiddle"> for the MPC as <img 
src="cctwMoM80x.svg" alt="mt  " class="math";align="absmiddle"> approaches its lower bound.
Using this fact plus the strict concavity of the consumption function yields the proposition
that
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM81x.svg" alt="ct(mt + ▴mt ) &#x003C; ¯κt▴mt.
" class="math-display" ><a 
 id="x1-9001r15"></a></div>
  </td><td class="equation-label">(15)</td></tr></table>
<!--l. 7--><p class="nopar" >
<!--l. 9--><p class="indent" >  The solution method described above does not guarantee that approximated consumption
will respect this constraint between gridpoints, and a failure to respect the constraint can
occasionally cause computational problems in solving or simulating the model. Here,
we describe a method for constructing an approximation that always satisﬁes the
constraint.
<!--l. 1--><p class="indent" >  Deﬁning <img 
src="cctwMoM82x.svg" alt="  #
m t  " class="math";align="absmiddle"> as the ‘cusp’ point where the two upper bounds intersect:
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM83x.svg" alt="(    #        )           #
 ▴m  t + ▴ht→   κt = ¯κt▴m t
                      κ ▴h
             ▴m#t =  --t---t→--
                     (1 − κt)¯κt
                #    κtht→ − 𝔥t
              m t =  ----------→-,
                      (1 − κt)¯κt
" class="math-display" ></div>
  </td></tr></table>
<!--l. 7--><p class="nopar" > we want to construct a consumption function for <img 
src="cctwMoM84x.svg" alt="            #
mt  ∈ (mt,m t ]  " class="math";align="absmiddle"> that respects the tighter
upper bound:
                                                                                     
                                                                                     
<div class="center" 
>
<!--l. 3--><p class="noindent" >
<div class="pic-tabular">
<img 
src="cctwMoM85x.svg" alt="       ▴mt κt &#x003C;  ct(mt + ▴mt  ) &#x003C; ¯κt▴mt
▴mt (¯κt − κt) &#x003E;   ¯κt▴(mt −  ct(mt +  ▴m)t )  &#x003E;  0
            1 &#x003E;      ¯κt▴mt−ct(mt+▴mt-)     &#x003E;  0.
                        ▴mt(¯κt−κt)
" ></div></div>
<!--l. 1--><p class="noindent" >Again deﬁning <img 
src="cctwMoM86x.svg" alt="μt = log▴mt  " class="math";align="absmiddle">, the object in the middle of the inequality is
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM87x.svg" alt="        κ¯ − c (m  + eμt)e−μt
ˇϙt(μt) ≡ --t---t---t----------.
               ¯κt − κt
" class="math-display" ><a 
 id="x1-9001r5.1"></a></div>
  </td></tr></table>
<!--l. 5--><p class="nopar" > As <img 
src="cctwMoM88x.svg" alt="mt  " class="math";align="absmiddle"> approaches <img 
src="cctwMoM89x.svg" alt="− mt  " class="math";align="absmiddle">, <img 
src="cctwMoM90x.svg" alt="ˇϙt(μt)  " class="math";align="absmiddle"> converges to zero, while as <img 
src="cctwMoM91x.svg" alt="mt  " class="math";align="absmiddle"> approaches <img 
src="cctwMoM92x.svg" alt="+  ∞ " class="math";align="absmiddle">,
<img 
src="cctwMoM93x.svg" alt="ˇϙ (μt)
 t  " class="math";align="absmiddle"> approaches <img 
src="cctwMoM94x.svg" alt="1  " class="math";align="absmiddle">.
<!--l. 5--><p class="indent" >  As before, we can derive an approximated consumption function; call it <img 
src="cctwMoM95x.svg" alt="`
ˇct  " class="math";align="absmiddle">. This
function will clearly do a better job approximating the consumption function for low
values of <img 
src="cctwMoM96x.svg" alt="mt  " class="math";align="absmiddle"> while the previous approximation will perform better for high values of
<img 
src="cctwMoM97x.svg" alt="mt  " class="math";align="absmiddle">.
<!--l. 10--><p class="indent" >  For middling values of <img 
src="cctwMoM98x.svg" alt="m  " class="math";align="absmiddle"> it is not clear which of these functions will perform better.
However, an alternative is available which performs well. Deﬁne the highest gridpoint below
<img 
src="cctwMoM99x.svg" alt="  #
m t  " class="math";align="absmiddle"> as <img 
src="cctwMoM100x.svg" alt="  #
¯ˇm t  " class="math";align="absmiddle"> and the lowest gridpoint above <img 
src="cctwMoM101x.svg" alt="  #
m t  " class="math";align="absmiddle"> as <img 
src="cctwMoM102x.svg" alt="  #
ˆm-t  " class="math";align="absmiddle">. Then there will be a unique
interpolating polynomial that matches the level and slope of the consumption function at
these two points. Call this function <img 
src="cctwMoM103x.svg" alt="˜ct(m )  " class="math";align="absmiddle">.
<!--l. 18--><p class="indent" >  Using indicator functions that are zero everywhere except for speciﬁed intervals,
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM104x.svg" alt=" 111  (m ) = 1 if m ≤ m¯ˇ#
  Lo                 t
111Mid(m ) = 1 if     ¯ˇm#t &#x003C; m  &#x003C; ˆm#t
                                 #
 111Hi(m ) = 1 if                ˆm-t ≤ m
" class="math-display" ></div>
  </td></tr></table>
<!--l. 5--><p class="nopar" >we can deﬁne a well-behaved approximating consumption function
  <table 
class="equation"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM105x.svg" alt="`ct = 111Lo`ˇct + 111Mid`˜ct + 111Hi`ˆct.
" class="math-display" ><a 
 id="x1-9002r16"></a></div>
  </td><td class="equation-label">(16)</td></tr></table>
<!--l. 9--><p class="nopar" > This just says that, for each interval, we use the approximation that is most appropriate. The
function is continuous and once-diﬀerentiable everywhere, and is therefore well behaved for
computational purposes.
<!--l. 15--><p class="indent" >  We now construct an upper-bound value function implied for a consumer whose spending
behavior is consistent with the reﬁned upper-bound consumption rule.
<!--l. 17--><p class="indent" >  For <img 
src="cctwMoM106x.svg" alt="m   ≥ m#
  t     t  " class="math";align="absmiddle">, this consumption rule is the same as before, so the constructed upper-bound
value function is also the same. However, for values <img 
src="cctwMoM107x.svg" alt="        #
mt  &#x003C; m t  " class="math";align="absmiddle"> matters are slightly more
complicated.
<!--l. 21--><p class="indent" >  Start with the fact that at the cusp point,
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM108x.svg" alt="    #           #    T
¯vt(mt ) = u(¯ct(m t ))ℂt
       =  u(▴m#  ¯κt)ℂT .
                t    t
" class="math-display" ></div>
  </td></tr></table>
<!--l. 26--><p class="nopar" >
                                                                                     
                                                                                     
<!--l. 28--><p class="indent" >  But for <span 
class="ecti-1200">all</span> <img 
src="cctwMoM109x.svg" alt="mt  " class="math";align="absmiddle">,
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM110x.svg" alt="¯vt(m ) = u (¯ct(m )) + vt¯→ (m − ¯ct(m )),
" class="math-display" ></div>
  </td></tr></table>
<!--l. 31--><p class="nopar" >and we assume that for the consumer below the cusp point consumption is given by <img 
src="cctwMoM111x.svg" alt="¯κ▴mt  " class="math";align="absmiddle"> so
for <img 
src="cctwMoM112x.svg" alt="mt &#x003C; m#t  " class="math";align="absmiddle">
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM113x.svg" alt="¯vt(m ) = u(¯κt▴m ) + v¯t→((1 − ¯κt)▴m  ),
" class="math-display" ></div>
  </td></tr></table>
<!--l. 35--><p class="nopar" >which is easy to compute because <img 
src="cctwMoM114x.svg" alt="v¯t (at) = β¯vt+1(atℛ +  1)
  →  " class="math";align="absmiddle"> where <img 
src="cctwMoM115x.svg" alt="¯vt  " class="math";align="absmiddle"> is as deﬁned above
because a consumer who ends the current period with assets exceeding the lower bound will
not expect to be constrained next period. (Recall again that we are merely constructing an
object that is guaranteed to be an <span 
class="ecti-1200">upper bound </span>for the value that the ‘realist’ consumer will
experience.) At the gridpoints deﬁned by the solution of the consumption problem can then
construct
  <table 
class="equation-star"><tr><td>
  <div class="math-display" >
<img 
src="cctwMoM116x.svg" alt="                       1∕(1−ρ)
¯Λt(m ) = ((1 − ρ)¯vt(m ))
" class="math-display" ></div>
  </td></tr></table>
<!--l. 42--><p class="nopar" > which yields the appropriate vector for constructing <img 
src="cctwMoM117x.svg" alt="Xˇ  " class="math";align="absmiddle"> and <img 
src="cctwMoM118x.svg" alt="ˇϘ  " class="math";align="absmiddle">. The rest of the procedure
is analogous to that performed for the consumption rule and is thus omitted for
brevity.
  <div class="figure" 
>
                                                                                     
                                                                                     
                                                                                     
                                                                                     
<!--l. 234--><p class="noindent" > <img 
src="./Figures/IntExpFOCInvPesReaOptNeed45Plot.png" alt="pict"  
 width="433.62pt" >
                                                                                     
                                                                                     
  </div>
  <h3 class="sectionHead"><span class="titlemark">6  </span> <a 
 id="x1-100006"></a>Conclusion</h3>
<!--l. 256--><p class="noindent" >The method proposed here is not universally applicable. For example, the method cannot be
used for problems for which upper and lower bounds to the ‘true’ solution are not known. But
many problems do have obvious upper and lower bounds, and in those cases (as in the
consumption example used in the paper), the method may result in substantial improvements
in accuracy and stability of solutions.
                                                                                     
                                                                                     
  <h3 class="likesectionHead"><a 
 id="x1-11000"></a>References</h3>
<!--l. 5--><p class="noindent" >
  <div class="thebibliography">
  <p class="bibitem" ><span class="biblabel">
<a 
 id="XBufferStockTheory"></a><span class="bibsp">   </span></span><span 
class="eccc1200-"><span 
class="small-caps">C</span><span 
class="small-caps">a</span><span 
class="small-caps">r</span><span 
class="small-caps">r</span><span 
class="small-caps">o</span><span 
class="small-caps">l</span><span 
class="small-caps">l</span><span 
class="small-caps">,</span>  <span 
class="small-caps">C</span><span 
class="small-caps">h</span><span 
class="small-caps">r</span><span 
class="small-caps">i</span><span 
class="small-caps">s</span><span 
class="small-caps">t</span><span 
class="small-caps">o</span><span 
class="small-caps">p</span><span 
class="small-caps">h</span><span 
class="small-caps">e</span><span 
class="small-caps">r</span></span><span 
class="eccc1200-"> <span 
class="small-caps">D</span><span 
class="small-caps">.</span>  </span>(2023):  “Theoretical  Foundations  of  Buﬀer  Stock
  Saving,” <span 
class="ecti-1200">Revise and Resubmit, Quantitative Economics</span>.
</p>
  </div>
   
</body> 
</html>
                                                                                     


